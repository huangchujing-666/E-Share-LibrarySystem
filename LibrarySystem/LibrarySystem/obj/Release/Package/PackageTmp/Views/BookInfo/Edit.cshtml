@{
    ViewBag.Title = "图书编辑";
}
@using LibrarySystem.Admin.Common;
@model LibrarySystem.Admin.Models.BookInfoVM
<div class="wrapper wrapper-content animated fadeInRight">
    <div class="row">
        <div class="col-sm-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>
                        图书编辑 <small>添加、修改</small>
                    </h5>
                </div>
                <div class="ibox-content">
                    <form class="form-horizontal">
                        <input type="hidden" name="BookInfoId" id="BookInfoId" value="@Model.BookInfoId">
                        <div class="form-group">
                            <label class="col-sm-2 control-label">数据源</label>
                            <div class="col-sm-4">
                                @if (Model.BookInfoId > 0)
                                {
                                    <select class="form-control inline" disabled="disabled" style="width:150px;" name="UniversityId" id="UniversityId">
                                        <option value="0">请选择数据源</option>
                                        @if (Model != null && Model.UinversityList != null && Model.UinversityList.Count > 0)
                                        {
                                            foreach (var item in Model.UinversityList)
                                            {
                                                if (Model.UniversityId == @item.UniversityId)
                                                {
                                                    <option value="@item.UniversityId" selected="selected">@item.Name</option>
                                                }
                                                else
                                                {
                                                    <option value="@item.UniversityId">@item.Name</option>
                                                }

                                            }
                                        }
                                    </select>
                                }
                                else
                                {
                                    <select class="form-control inline" style="width:150px;" name="UniversityId" id="UniversityId">
                                        <option value="0">请选择数据源</option>
                                        @if (Model != null && Model.UinversityList != null && Model.UinversityList.Count > 0)
                                        {
                                            foreach (var item in Model.UinversityList)
                                            {
                                                <option value="@item.UniversityId">@item.Name</option>
                                            }
                                        }
                                    </select>
                                }


                            </div>
                            <label class="red-line">*</label>
                        </div>
                        <div class="hr-line-dashed"></div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">图书类别</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" placeholder="请输入图书类别" maxlength="100" name="Category" id="Category" value="@(Model.Category??"")">
                            </div><label class="red-line">*</label>
                        </div>
                        <div class="hr-line-dashed"></div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">图书名称</label>
                            <div class="col-sm-4">
                                @*@if (Model.BookInfoId > 0)
                                    {
                                        <input type="text" class="form-control" readonly="readonly" placeholder="请输入图书名称" maxlength="100" name="Title" id="Title" value="@(Model.Title??"")">
                                    }
                                    else
                                    {*@
                                <input type="text" class="form-control" placeholder="请输入图书名称" maxlength="100" name="Title" id="Title" value="@(Model.Title??"")">
                                @*}*@

                            </div><label class="red-line">*</label>
                        </div>
                        <div class="hr-line-dashed"></div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">图书ISBN</label>
                            <div class="col-sm-4">
                                @if (Model.BookInfoId > 0)
                                {
                                    <input type="text" class="form-control" readonly="readonly" placeholder="请输入图书ISBN" maxlength="100" name="Isbn" id="Isbn" value="@(Model.Isbn ?? "")">
                                }
                                else
                                {
                                    <input type="text" class="form-control" placeholder="请输入图书ISBN" maxlength="100" name="Isbn" id="Isbn" value="@(Model.Isbn ?? "")">
                                }
                            </div><label class="red-line">*</label>
                        </div>
                        <div class="hr-line-dashed"></div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">作者</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" placeholder="请输入作者" maxlength="100" name="Author" id="Author" value="@(Model.Author??"")">
                            </div><label class="red-line">*</label>
                        </div>
                        <div class="hr-line-dashed"></div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">出版时间</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" placeholder="请输入出版时间" maxlength="100" name="PublicDate" id="PublicDate" value="@(Model.PublicDate??"")">
                            </div><label class="red-line">*</label>
                        </div>
                        <div class="hr-line-dashed"></div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">数量</label>
                            <div class="col-sm-4">
                                @if (Model.BookInfoId > 0)
                                {
                                    <input type="number" class="form-control" readonly="readonly" placeholder="请输入数量" maxlength="100" name="Count" id="Count" value="@(Model.Count)">
                                }
                                else
                                {
                                    <input type="number" class="form-control" placeholder="请输入数量" maxlength="100" name="Count" id="Count" value="@(Model.Count)">
                                }
                            </div><label class="red-line">*</label>
                        </div>
                        <div class="hr-line-dashed"></div>
                        <div class="form-group">
                            <label class="col-sm-2 control-label">可预借数量</label>
                            <div class="col-sm-4">
                                <input type="number" class="form-control" placeholder="请输入可预借数量" maxlength="100" name="Available" id="Available" value="@(Model.Available)">
                            </div><label class="red-line">*</label>
                        </div>
                        <div class="hr-line-dashed"></div>
                        <div class="form-group">
                            <div class="col-sm-4 col-sm-offset-2">
                                <button id="btnSave" class="btn btn-primary" type="button">保存内容</button>
                                <a class="btn btn-white" href="javascript:history.go(-1);">取消</a>
                            </div>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>
</div>
@section script{
    <script src="@("/Scripts/plugins/fileinput/fileinput.js"+LibrarySystem.Admin.Versions.Ver)"></script>
    <script src="@("/Scripts/plugins/fileinput/zh.js"+LibrarySystem.Admin.Versions.Ver)"></script>
    <script src="@("/Scripts/ViewJs/BookInfo/bookInfoEdit.js"+LibrarySystem.Admin.Versions.Ver)"></script>
}

